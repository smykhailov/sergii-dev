{"version":3,"file":"component---src-pages-tags-tsx-0f94046cf4f854430e62.js","mappings":"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","sources":["webpack://sergii-dev/./src/components/left-pane/tags-list.tsx","webpack://sergii-dev/./src/pages/tags.tsx"],"sourcesContent":["import React, { FC, useEffect, useState } from \"react\";\nimport { graphql, Link, useStaticQuery } from \"gatsby\";\nimport slugify from \"slugify\";\nimport styled from \"@emotion/styled\";\n\nimport LeftPaneContainer from \"./left-pane-container\";\nimport { isRouteActive } from \"@core/routing\";\n\nconst TagsList: FC<{ location: Location }> = props => {\n  const { distinct: tags, group } = useTagsListQuery();\n  const [offsetTop, setOffsetTop] = useState(0);\n  const activeLi = React.useRef<HTMLLIElement>(null);\n\n  useEffect(() => {\n    setOffsetTop(activeLi?.current?.offsetTop || 0);\n  }, [activeLi]);\n\n  return (\n    <LeftPaneContainer title=\"Tags\" offsetTop={offsetTop}>\n      <Tags>\n        {tags.map((tag: string, idx: number) => {\n          const slug = `/tags/${slugify(tag).toLocaleLowerCase()}`;\n          const articlesCount = group[idx]?.totalCount || 0;\n          let amountOfArticles = \"There is no articles with this tag yet\";\n\n          if (articlesCount > 0) {\n            if (articlesCount === 1) {\n              amountOfArticles = \"1 article\";\n            } else {\n              amountOfArticles = `${articlesCount} articles`;\n            }\n          }\n\n          const isActive = isRouteActive(slug, props.location);\n\n          return (\n            <li key={slug} ref={isActive ? activeLi : null}>\n              <Link\n                to={slug}\n                className={isActive ? \"active\" : undefined}\n                title={tag}\n              >\n                <p>\n                  <strong>{tag}</strong>\n                </p>\n                <p>{amountOfArticles}</p>\n              </Link>\n            </li>\n          );\n        })}\n      </Tags>\n    </LeftPaneContainer>\n  );\n};\n\nconst useTagsListQuery = () => {\n  const { allMdx } = useStaticQuery<GatsbyTypes.TagsListQuery>(graphql`\n    query TagsList {\n      allMdx(\n        sort: { frontmatter: { tags: ASC } }\n        filter: { frontmatter: { published: { eq: true } } }\n      ) {\n        distinct(field: { frontmatter: { tags: SELECT } })\n        group(field: { frontmatter: { tags: SELECT } }) {\n          totalCount\n        }\n      }\n    }\n  `);\n\n  return allMdx;\n};\n\nconst Tags = styled.ul(props => ({\n  \"& > li > a\": {\n    display: \"flex\",\n    flexDirection: \"column\",\n    color: props.theme.colors.leftPane.textColor,\n    paddingTop: 6,\n    paddingBottom: 6,\n    paddingLeft: 16,\n    paddingRight: 16,\n    border: \"solid 1px transparent\",\n  },\n  \"& > li > a:hover\": {\n    backgroundColor: props.theme.colors.leftPane.backgroundColorHover,\n    border: props.theme.colors.borderHover,\n    color: props.theme.colors.leftPane.textColorHover,\n    textDecoration: \"none\",\n    cursor: \"pointer\",\n  },\n\n  \"& > li > a.active\": {\n    backgroundColor: props.theme.colors.leftPane.backgroundColorActive,\n    border: props.theme.colors.borderActive,\n    color: props.theme.colors.leftPane.textColorActive,\n  },\n\n  \"& > li > a strong\": {\n    fontWeight: \"bold\",\n  },\n\n  \"& > li > a span\": {\n    marginLeft: 16,\n    fontSize: 11,\n    opacity: 0.85,\n  },\n\n  \"& > li > a > p\": {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n}));\n\nexport default TagsList;\n","import React, { FC, useState } from \"react\";\nimport { graphql, HeadFC, Link } from \"gatsby\";\nimport styled from \"@emotion/styled\";\n\nimport TagsList from \"@components/left-pane/tags-list\";\nimport ContentContainer from \"@components/content\";\nimport ArticleListItem from \"@components/article-list-item\";\nimport slugify from \"slugify\";\nimport SEO from \"@components/seo\";\n\nconst TagsPage: FC<{\n  data: GatsbyTypes.CategoriesPageDataQuery;\n  location: Location;\n}> = props => {\n  const [shouldDisplayShadow, setShouldDisplayShadow] =\n    useState<boolean>(false);\n\n  return (\n    <ContentContainer title=\"Tags\" displayShadow={shouldDisplayShadow}>\n      <TagsWrapper\n        onScroll={e =>\n          setShouldDisplayShadow((e.target as HTMLElement).scrollTop > 0)\n        }\n      >\n        {props.data.allMdx.group.map(group => {\n          return (\n            <React.Fragment key={group.fieldValue}>\n              <TagsGroup>\n                <h2>#{group.fieldValue!}</h2>\n                <Link\n                  to={`/tags/${slugify(group.fieldValue!).toLocaleLowerCase()}`}\n                >\n                  All articles with the tag\n                </Link>\n              </TagsGroup>\n              {group.nodes.slice(0, 3).map(node => (\n                <ArticleListItem\n                  id={node.id}\n                  key={node.id}\n                  slug={node.fields?.slug!}\n                  title={node.frontmatter?.title!}\n                  date={node.frontmatter?.date!}\n                  timeToRead={node.fields?.readingTime?.text!}\n                  tags={node.frontmatter?.tags}\n                />\n              ))}\n            </React.Fragment>\n          );\n        })}\n      </TagsWrapper>\n    </ContentContainer>\n  );\n};\n\nexport const query = graphql`\n  query TagsPageData {\n    site {\n      siteMetadata {\n        title\n        author\n        description\n      }\n    }\n    allMdx(\n      sort: { frontmatter: { date: DESC } }\n      filter: { frontmatter: { published: { eq: true } } }\n    ) {\n      group(field: { frontmatter: { tags: SELECT } }) {\n        fieldValue\n        nodes {\n          id\n          fields {\n            slug\n            readingTime {\n              text\n              minutes\n              time\n            }\n          }\n          frontmatter {\n            date\n            title\n            tags\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst TagsWrapper = styled.div({\n  maxHeight: \"calc(100vh - 61px)\",\n  overflow: \"auto\",\n  marginTop: 18,\n});\n\nconst TagsGroup = styled.div(props => ({\n  display: \"flex\",\n  justifyContent: \"space-between\",\n  marginTop: 18,\n  marginBottom: 6,\n  margin: \"0 18px 0 0\",\n\n  \"& h2\": {\n    margin: \"0 0 0 18px\",\n  },\n\n  \"& a\": {\n    color: props.theme.colors.linkColor,\n    opacity: 0.85,\n  },\n\n  \"& a:hover\": {\n    opacity: 1,\n  },\n}));\n\n(TagsPage as any).Aside = TagsList;\n\nexport default TagsPage;\n\nexport const Head: HeadFC<GatsbyTypes.TagsPageDataQuery> = props => {\n  const siteMetadata = props.data.site?.siteMetadata!;\n  return (\n    <SEO\n      title={`Tags | ${siteMetadata.title}` || \"\"}\n      author={siteMetadata.author || \"\"}\n      keywords={props.data.allMdx.group\n        .map(group => group.fieldValue!)\n        .join(\", \")}\n      description={`Tags | ${siteMetadata.title}` || \"\"}\n    />\n  );\n};\n"],"names":["useTagsListQuery","allMdx","useStaticQuery","Tags","_styled","target","props","display","flexDirection","color","theme","colors","leftPane","textColor","paddingTop","paddingBottom","paddingLeft","paddingRight","border","backgroundColor","backgroundColorHover","borderHover","textColorHover","textDecoration","cursor","backgroundColorActive","borderActive","textColorActive","fontWeight","marginLeft","fontSize","opacity","justifyContent","distinct","tags","group","offsetTop","setOffsetTop","useState","activeLi","React","useEffect","_activeLi$current","current","___EmotionJSX","LeftPaneContainer","title","map","tag","idx","_group$idx","slug","slugify","toLocaleLowerCase","articlesCount","totalCount","amountOfArticles","isActive","isRouteActive","location","key","ref","Link","to","className","undefined","TagsPage","shouldDisplayShadow","setShouldDisplayShadow","ContentContainer","displayShadow","TagsWrapper","onScroll","e","scrollTop","data","fieldValue","TagsGroup","nodes","slice","node","_node$fields","_node$frontmatter","_node$frontmatter2","_node$fields2","_node$fields2$reading","_node$frontmatter3","ArticleListItem","id","fields","frontmatter","date","timeToRead","readingTime","text","name","styles","marginTop","marginBottom","margin","linkColor","Aside","TagsList","Head","_props$data$site","siteMetadata","site","SEO","author","keywords","join","description"],"sourceRoot":""}